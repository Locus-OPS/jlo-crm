<div class="row" style="margin-top: -50px">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header card-header-primary card-header-icon">
        <h4 class="card-title">{{ 'Business Rule' | translate }}</h4>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-12">
            <div class="pull-right">
              <button mat-raised-button type="button" class="btn btn-fill btn-primary">{{ 'button.add' | translate }}</button>
            </div>
          </div>
        </div>

        <div class="material-datatables table-responsive">
          <table
            mat-table
            [dataSource]="datasource"
            class="mat-elevation-z8"
            (matSortChange)="tableControl.onSort($event)"
            matSort
            matSortDirection="asc"
            matSortDisableClear
          >
            <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef class="text-left">Actions</th>
              <td mat-cell *matCellDef="let element" class="text-left">
                <button class="btn btn-primary btn-round btn-fab mat-raised-button" *ngIf="CAN_WRITE()">
                  <span class="mat-button-wrapper">
                    <i class="material-icons">search</i>
                  </span>
                </button>
              </td>
            </ng-container>

            <ng-container matColumnDef="ruleId">
              <th mat-header-cell *matHeaderCellDef class="text-right">{{ 'workflow.ruleid' | translate }}</th>
              <td mat-cell *matCellDef="let element" class="text-right">{{ element.ruleId }}</td>
            </ng-container>

            <ng-container matColumnDef="conditionType">
              <th mat-header-cell *matHeaderCellDef>{{ 'workflow.conditionType' | translate }}</th>
              <td mat-cell *matCellDef="let element">{{ element.conditionType }}</td>
            </ng-container>

            <ng-container matColumnDef="conditionValue1">
              <th mat-header-cell *matHeaderCellDef>{{ 'workflow.conditionValue1' | translate }}</th>
              <td mat-cell *matCellDef="let element">{{ element.conditionValue1 }}</td>
            </ng-container>
            <ng-container matColumnDef="conditionValue2">
              <th mat-header-cell *matHeaderCellDef>{{ 'workflow.conditionValue2' | translate }}</th>
              <td mat-cell *matCellDef="let element">{{ element.conditionValue2 }}</td>
            </ng-container>
            <ng-container matColumnDef="priority">
              <th mat-header-cell *matHeaderCellDef>{{ 'workflow.priority' | translate }}</th>
              <td mat-cell *matCellDef="let element">{{ element.priority }}</td>
            </ng-container>
            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef>{{ 'workflow.status' | translate }}</th>
              <td mat-cell *matCellDef="let element">{{ element.status }}</td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr
              mat-row
              *matRowDef="let row; columns: displayedColumns"
              (click)="onSelectRow(row)"
              [ngClass]="{ 'selected-row': selectedRow == row }"
            ></tr>
          </table>
        </div>
        <mat-paginator
          class="mat-paginator-sticky"
          (page)="tableControl.onPage($event)"
          [length]="tableControl.total"
          [pageIndex]="tableControl.pageNo"
          [pageSize]="tableControl.pageSize"
          [pageSizeOptions]="tableControl.pageSizeOptions"
          showFirstLastButtons
        >
        </mat-paginator>
      </div>
    </div>
  </div>
</div>
