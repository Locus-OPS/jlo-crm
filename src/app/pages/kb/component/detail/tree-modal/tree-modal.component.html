<div mat-dialog-content class="dialog-content">
  <!-- Header -->
  <div class="dialog-header">
    <div class="header-icon">
      <mat-icon>folder_open</mat-icon>
    </div>
    <h4 class="header-title">{{ 'kb.selectFolder' | translate }}</h4>
    <button type="button" class="dialog-close" [mat-dialog-close]="true">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <!-- Tree Content -->
  <div class="tree-container">
    <mat-tree #tree [dataSource]="treeDataSource" [treeControl]="treeControl">
      <!-- Leaf node -->
      <mat-tree-node *matTreeNodeDef="let node" [ngClass]="{ 'background-highlight': activeNode === node }" matTreeNodePadding>
        <button mat-icon-button (click)="selectNode(node)">
          {{ node.name }}
        </button>
      </mat-tree-node>
      <!-- Expandable node -->
      <mat-tree-node *matTreeNodeDef="let node; when: hasChild" [ngClass]="{ 'background-highlight': activeNode === node }" matTreeNodePadding>
        <button mat-icon-button matTreeNodeToggle (click)="selectNode(node)" [attr.aria-label]="'toggle ' + node.name">
          <mat-icon class="mat-icon-rtl-mirror">folder_open</mat-icon>
        </button>
        {{ node.name }}
      </mat-tree-node>
    </mat-tree>
  </div>

  <!-- Footer Actions -->
  <div class="dialog-footer">
    <button mat-button (click)="onCancelSelect()" class="btn-cancel">
      {{ 'button.cancel' | translate }}
    </button>
    <button mat-raised-button (click)="confirmSelect()" class="btn-primary">
      {{ 'button.select' | translate }}
    </button>
  </div>
</div>
